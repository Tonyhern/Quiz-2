<!DOCTYPE html>      
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>English Quiz Kids üß∏</title>
<style>
  body { font-family: Comic Sans MS, Arial; text-align: center; background-color: #fffae3; padding: 20px; }
  h1 { color: #ff6f61; }
  button { padding: 12px 25px; margin: 10px; font-size: 18px; border-radius: 12px; cursor: pointer; background-color: #ffe066; border: none; transition: 0.3s; }
  button:hover { transform: scale(1.05); }
  .hidden { display: none; }
  #quiz-container { max-width: 500px; margin: auto; background: white; padding: 20px; border-radius: 16px; box-shadow: 0 4px 10px rgba(0,0,0,0.1); }
  #feedback { font-size: 20px; margin: 15px 0; }
  #score { font-size: 22px; font-weight: bold; color: #ff6f61; }
  img { max-width: 160px; margin: 10px 0; border-radius: 12px; }
  #level { font-size: 18px; color: #333; margin-bottom: 10px; }
  #timer { font-size: 20px; color: #d9534f; font-weight: bold; margin-bottom: 10px; }
  #lives { font-size: 22px; margin: 10px 0; color: #e63946; }
  #next-btn.correct { background-color: #38b000; color: white; }
  #next-btn.wrong { background-color: #d00000; color: white; }
  #player-info { display: flex; align-items: center; justify-content: center; gap: 10px; margin-bottom: 10px; }
  #player-info img { width: 50px; height: 50px; border-radius: 50%; border: 2px solid #ff6f61; }
  #start-screen img { width: 80px; height: 80px; border-radius: 50%; border: 2px solid transparent; cursor: pointer; }
  #start-screen img.selected { border: 3px solid #ff6f61; }
  #final-screen { max-width: 500px; margin: auto; background: #fff; padding: 20px; border-radius: 16px; box-shadow: 0 4px 12px rgba(0,0,0,0.2); }
  #final-screen img { width: 100px; height: 100px; border-radius: 50%; border: 3px solid #ff6f61; }
  #final-screen h2 { color: #38b000; }
</style>
</head>
<body>
<h1>English Quiz Kids üß∏</h1>

<!-- Pantalla inicial -->
<div id="start-screen">
  <p>üëâ Enter your name:</p>
  <input type="text" id="player-name" placeholder="Your name" />
  <p>üëâ Choose your avatar:</p>
  <div id="avatar-selection">
    <!-- Avatares mujer -->
    <img src="https://i.imgur.com/VG6zj9x.png" data-avatar="girl1">
    <img src="https://i.imgur.com/Ly9kn0v.png" data-avatar="girl2">
    <img src="https://i.imgur.com/8KwlfkY.png" data-avatar="girl3">
    <!-- Avatares hombre -->
    <img src="https://i.imgur.com/D6o6JY1.png" data-avatar="boy1">
    <img src="https://i.imgur.com/it0B8Xp.png" data-avatar="boy2">
    <img src="https://i.imgur.com/bh3bFtn.png" data-avatar="boy3">
  </div>
  <button onclick="startGame()">Start Quiz üöÄ</button>
</div>

<!-- Contenedor del quiz -->
<div id="quiz-container" class="hidden">
  <div id="player-info">
    <img id="player-avatar" src="" alt="avatar">
    <span id="player-display"></span>
  </div>
  <p id="level"></p>
  <p id="timer"></p>
  <p id="lives"></p>
  <p id="question"></p>
  <img id="image" src="" alt="quiz image">
  <div id="options"></div>
  <p id="feedback"></p>
  <button id="next-btn" class="hidden">Next ‚û°Ô∏è</button>
</div>

<!-- Pantalla final -->
<div id="final-screen" class="hidden">
  <h2>üéâ Congratulations!</h2>
  <img id="final-avatar" src="" alt="avatar">
  <p id="final-name"></p>
  <p id="final-score"></p>
  <button onclick="location.reload()">Play Again üîÑ</button>
</div>

<!-- sonidos -->
<audio id="correct-sound" src="https://www.soundjay.com/buttons/sounds/button-3.mp3"></audio>
<audio id="wrong-sound" src="https://www.soundjay.com/buttons/sounds/button-10.mp3"></audio>
<audio id="celebration-sound" src="https://www.soundjay.com/human/sounds/applause-8.mp3"></audio>

<!-- confetti -->
<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

<script>
let playerName = "";
let playerAvatar = "";
let score = 0;
let current = 0;
let lives = 5; // vidas

document.querySelectorAll("#avatar-selection img").forEach(img => {
  img.onclick = () => {
    document.querySelectorAll("#avatar-selection img").forEach(i => i.classList.remove("selected"));
    img.classList.add("selected");
    playerAvatar = img.src;
  };
});

function startGame() {
  playerName = document.getElementById("player-name").value.trim();
  if(playerName === "" || playerAvatar === ""){
    alert("‚ö†Ô∏è Please enter your name and choose an avatar.");
    return;
  }
  document.getElementById("start-screen").classList.add("hidden");
  document.getElementById("quiz-container").classList.remove("hidden");
  document.getElementById("player-avatar").src = playerAvatar;
  document.getElementById("player-display").textContent = playerName;
  loadQuestion();
}

// ---- Aqu√≠ ir√≠a el array de 20 preguntas y la l√≥gica del quiz (loadQuestion, checkAnswer, etc.) ----

// Cuando termina el quiz:
function finishQuiz() {
  document.getElementById("quiz-container").classList.add("hidden");
  document.getElementById("final-screen").classList.remove("hidden");

  document.getElementById("final-avatar").src = playerAvatar;
  document.getElementById("final-name").textContent = `Player: ${playerName}`;
  document.getElementById("final-score").textContent = `Your score: ${score} / 20`;

  // üéâ sonido + confeti
  document.getElementById("celebration-sound").play();
  confetti({
    particleCount: 200,
    spread: 90,
    origin: { y: 0.6 }
  });
}
</script>
</body>
</html>
